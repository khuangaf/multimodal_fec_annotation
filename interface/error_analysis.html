<!-- For help on using this template, see the blog post: https://blog.mturk.com/editing-the-survey-link-project-template-in-the-ui-7c75285105fb#.py7towsdx -->
<!-- HIT template: SurveyLink-v3.0 -->
<!-- The following snippet enables the 'responsive' behavior on smaller screens -->
<!-- You must include this JavaScript file -->
<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> -->
<meta content="width=device-width,initial-scale=1" name="viewport" />
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
	integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" rel="stylesheet" />

<style>
	.btn-custom {
	    color: #ffffff;
	    background-color: #007bff;
	}
	.btn-custom:not(.active) {
	    color: #007bff;
	    background-color: #ffffff;
	}

	.custom-card {
		margin-bottom: 1rem;
		padding: 1rem;
	}

	.cardstyle-section {
		margin-bottom: 20px;
		background-color: #f6f6f6;
		padding: 20px;
	}
</style>	

<section class="container">
	<div class="row jumbotron collapse show" id="collapseTrigger">
		<!-- <div class="collapse in"  id="collapseTrigger"> -->
		<div class="col-xs-12 col-md-12">
			<div class="panel panel-primary">

				<h4>Instructions</h4>
				<hr />
				<div class="panel-body" id="instructionBody">
					<p>In this task you will evaluate the <i>factual errors</i> for a generated caption
						with regard to the reference chart. <br />
						To correctly solve this task, follow these steps:</p>
					<ol>
						<li>Carefully read the generated caption and the reference chart. </li>
						<li>Compare the generated caption against the reference chart and decide whether the caption contains any <i>factual error</i> defined below.</li>
						<li>You should click/press the button if an error occur. A <b>blue button</b> indicates the caption <b>contains</b> the corresponding factual error, while a <b>white button</b> means the caption does <b>not contain</b> such an error.
						</li>
					</ol>

					<b>Warning:</b>
					Annotations will be checked for quality against control labels, <b>low quality work will be
						rejected.</b><br /><br />

					<b>Error definition:</b>
					<ul>
						<li><b>Value error</b>: A quantitative data value is incorrect. </li>
						<li><b>Label error</b>: A non-antitative data value is incorrect. </li>
						<li><b>Trend error</b>: The direction of a trend is wrong. </li>
						<li><b>Out-of-context error</b>: The caption introduces concepts that are not present in the chart. </li>
						<!-- <li><b>Entity error</b>: The primary arguments (or their attributes) of the predicate are wrong. </li>
						<li><b>Predicate error</b>: The predicate in a caption is inconsistent with the chart. </li> -->
						<li><b>Grammatical error</b>: The grammar of the caption is wrong. </li>
						<li><b>Lack-of-context error</b>: The caption misses important information to understand the chart. </li>
					</ul>
					<div class="card">
						<div class="card-header bg-info text-white">
							Example Chart Image
						</div>
						<div class="card-body" id="example_image">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">
								<div class="column col-12">
									<img src="https://raw.githubusercontent.com/khuangaf/multimodal_fec_annotation/master/images/pew_two_col-1035.png" style="display: block; margin-left: auto; margin-right: auto;">
								</div>
							</div>
							
						</div>
					</div>

					<div class="card">
						<div class="card-header bg-info text-white">
							Value Error Examples
						</div>
						<div class="card-body" id="exampleBody1">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">


								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">The multiple-victim homicide rate in 2008 is around <span style="color:red;">0.5%</span>.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">The multiple-victim homicide rate in 2008 is around <span style="color:green;">0.8%</span>.</div>

							</div>
						</div>
						<div class="card-header bg-info text-white">
							Label Error Examples
						</div>
						<div class="card-body" id="exampleBody2">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">

								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">The multiple-victim homicide rate is at its lowest in <span style="color:red;">2008</span>.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">The multiple-victim homicide rate is at its lowest in <span style="color:green;">1983</span>.</div>

							</div>
						</div>

						<div class="card-header bg-info text-white">
							Trend Error Examples
						</div>
						<div class="card-body" id="exampleBody2">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">
								
								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate is <span style="color:red;">decreasing</span> overall.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate is <span style="color:green;">increasing</span> overall.</div>

							</div>
						</div>

						<div class="card-header bg-info text-white">
							Out-of-context Error Examples
						</div>
						<div class="card-body" id="exampleBody2">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">
								
								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate <span style="color:red;">of Taiwan</span> is increasing overall.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate <span style="color:green;"><s>of Taiwan</s></span> is increasing overall.</div>

							</div>
						</div>

						<div class="card-header bg-info text-white">
							Grammatical Error Examples
						</div>
						<div class="card-body" id="exampleBody2">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">

								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate is <span style="color:red;">increase</span> overall.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">From 1980-2008, the multiple-victim homicide rate is <span style="color:green;">increasing</span> overall.</div>

							</div>
						</div>

						<div class="card-header bg-info text-white">
							Lack-of-context Error Examples
						</div>
						<div class="card-body" id="exampleBody2">
							<div class="columns cardstyle-section" style="padding-bottom: 30px;">

								<div class="column col-12"><b>Generated Caption</b></div>

								<div class="column col-12">From 1980-2008, the <span style="color:red;">value</span> is increasing overall.</div>

								<br>
								
								<div class="column col-12"><b>Correct Caption</b></div>

								<div class="column col-12">From 1980-2008, the <span style="color:green;">multiple-victim homicide rate</span> is increasing overall.</div>

							</div>
						</div>


					</div>
				</div>
			</div>

		</div>
	</div> <!-- End of block -->
	<button class="btn btn-primary m-3" type="button" data-toggle="collapse" data-target="#collapseTrigger">
		Hide/Show Instructions
	</button>

	<!-- <div class="crowd-form"> -->
	<crowd-form>
		<div class="row">

			<div class="col-md-5">
				<h4>Reference Chart</h4>
				<div class="card card-block"
					style="margin-bottom: 1em; font-size: 0.9em; text-align: justify; text-justify: inter-word;">

					<div class="column col-12">
						<img src="https://raw.githubusercontent.com/khuangaf/multimodal_fec_annotation/master/images/pew_two_col-1035.png" style="display: block; margin-left: auto; margin-right: auto;">
					</div>
				</div>
				<input name="id" type="hidden" value="${id}" />
			</div> <!-- End of chat history column -->


			<div class="col-md-6">
				<h4>Generated Summaries</h4>
				<div class="col-md-12" style="overflow:scroll; height:500px;">
					<section class="card card-block">
	                    <h5>Summary </h5>
	                    <div class="card card-block"
	                        style="margin-bottom: 1em; text-align: justify; text-justify: inter-word;">${summ_1}</div>
	                    <input name="sys_id_1" type="hidden" value="${sys_id_1}" />
	                    <div class="col-md-12 form-group">
	                        <div class="row">

	                        	<div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="value_error-1" autocomplete="off"> Value Error
	                                </label>
	                            </div>

	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="label_error-1"  autocomplete="off"> Label Error
	                                </label>
	                            </div>
	                            
	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="trend_error-1" autocomplete="off"> Trend Error
	                                </label>
	                            </div>

	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="ooc_error-1" autocomplete="off"> Out-of-context Error
	                                </label>
	                            </div>
	                            <!-- <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="entity_error-1" autocomplete="off"> Entity Error
	                                </label>
	                            </div>
	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="entity_error-1" autocomplete="off"> Predicate Error
	                                </label>
	                            </div> -->
	                            
	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="grammatical_error-1" autocomplete="off"> Grammatical Error
	                                </label>
	                            </div>
	                            <div class="col-md-3 btn-group btn-group-toggle" data-toggle="buttons">
	                                <label class="btn btn-custom">
	                                    <input type="checkbox" name="loc_error-1" autocomplete="off"> Lack-of-context Error
	                                </label>
	                            </div>
	                        </div>
	                    </div>
	                </section>

				</div> <!-- End of form column -->
			</div>
		</div> <!-- End of form row -->
	</crowd-form> <!-- End of form -->

</section>

<!-- Close internal style sheet -->
<!-- External JS references -->
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
	integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
	crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
	integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
	crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
	integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
	crossorigin="anonymous"></script>
